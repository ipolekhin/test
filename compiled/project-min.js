$(function(){var e=document.querySelector(".main-navigation"),t=document.querySelector(".back-toggler"),s=document.querySelector(".submenu-target"),o=document.querySelector(".navbar-toggler"),l=document.querySelector(".subscribe-link"),n=document.querySelector(".modal-subscribe"),a=document.querySelectorAll(".modal-close"),c=document.querySelectorAll(".modal"),r=document.querySelector(".subscribe-form"),d=document.querySelector("header"),u=document.querySelector("main"),p=document.querySelector("footer");s.addEventListener("click",function(e){e.preventDefault,window.innerWidth<992&&(this.nextElementSibling.classList.add("collapsed"),o.classList.add("right"))}),t.addEventListener("click",function(e){e.preventDefault(),t.parentElement.classList.remove("collapsed"),o.classList.remove("right")}),o.addEventListener("click",function(){if(o.classList.contains("collapsed")){o.classList.remove("collapsed"),e.classList.remove("collapsed");let t=document.querySelectorAll(".collapsed");for(i=0;i<t.length;i++)t[i].classList.remove("collapsed");o.classList.remove("right")}else o.classList.add("collapsed"),e.classList.add("collapsed")}),$(".search-string").on("focus",function(){$resultElement=$(".search_content"),$resultElement.toggle()}),$(document).on("click",function(e){$(e.target).closest(".search").length||$(".search_content").hide(),$(e.target).closest(".basket_tooltip, .basket_info").length||$(".basket_tooltip").removeClass("show"),e.stopPropagation()});var h=document.querySelector(".search-string");function m(){d.classList.add("blur"),u.classList.add("blur"),p.classList.add("blur")}h.addEventListener("focus",function(){window.innerWidth>576&&window.innerWidth<992&&e.classList.add("opacityon")}),h.addEventListener("blur",function(){e.classList.remove("opacityon")}),$(".basket_info").click(function(){$(this).next(".basket_tooltip").toggleClass("show")}),l.addEventListener("click",function(e){e.preventDefault(),n.classList.add("modal-show"),m()});var f=function(e){e.target.closest(".modal").classList.remove("modal-show");let t=document.querySelectorAll(".blur");if(t)for(i=0;i<t.length;i++)t[i].classList.remove("blur")};for(i=0;i<a.length;i++){a[i].addEventListener("click",f,!1)}function v(e){var t,s=[],o=$(e).children("option");$(e).hide(),$(o).each(function(){s.push($(this).html())}),$(e).after('<ul class="custom-select" data-selected-value="'+s[0]+'">'),t=$(e).siblings(".custom-select"),$(t).append('<li class="selected-option"><span>'+s[0]+"</span>"),$(t).children(".selected-option").append('<ul class="options">');for(var i=1;i<s.length;i++)$(t).find(".options").append("<li data-value="+s[i]+">"+s[i]+"</li>");$(t).click(function(){$(this).toggleClass("open"),$(".options",this).toggleClass("open")}),$(t).find(".options li").click(function(){for(var e=$(this).text(),s=$(this).attr("data-value"),i=$(t).find(".selected-option span").text(e),l=1;l<o.length;l++)$(o[l]).text()===i.text()&&($(o[l]).attr("selected","true"),$(o[l]).siblings().removeAttr("selected"));$(t).attr("data-selected-value",s)})}function g(e){g=$(e).siblings(".custom-select"),$(g).click(function(){$(this).toggleClass("open"),$(this).next(".select-price").toggleClass("open")})}r.addEventListener("submit",function(e){e.preventDefault(),console.log("отправить форму"),r.innerHTML='<div class="sucess">Спасибо, что Вы с Нами!</div>'}),window.addEventListener("keydown",function(e){if(27===e.keyCode){let t=document.querySelectorAll(".blur"),s=document.querySelector(".modal-open"),l=document.querySelectorAll(".collapsed");for(i=0;i<t.length;i++)t[i].classList.remove("blur");for(i=0;i<l.length;i++)l[i].classList.remove("collapsed");for(i=0;i<c.length;i++)c[i].classList.contains("modal-show")&&(e.preventDefault(),c[i].classList.remove("modal-show"));s&&s.classList.remove("modal-open"),o.classList.contains("collapsed")&&o.classList.remove("collapsed"),o.classList.contains("right")&&o.classList.remove("right")}}),$(".course-details-btn").click(function(){var e=$(this).next(".details").html(),t=$("body").find(".modal-course-details");$("body").addClass("modal-open"),t.addClass("modal-show"),t.children("div").html(e),m(),$(".modal-close").click(function(){t.removeClass("modal-show"),$(".blur, body").removeClass()})}),$(".modal").click(function(e){$(e.target).hasClass("modal-show")&&($(e.target).removeClass("modal-show"),$(".blur, .modal-open").removeClass())}),$(".tab-studio-info .tabs-studio-info > li a").click(function(){return $(".tab-studio-info .tabs-studio-info > li a").removeClass("current"),$(this).addClass("current"),$(".tab-studio-content > div").hide(),t_content=$(this).attr("href"),$(t_content).show(),!1}),$(".tab-studio-info .tabs-studio-info > li a:first").trigger("click"),$("#select-towns").change(function(){var e=this.value,t=document.querySelectorAll(".agency-info-list div");for(i=0;i<t.length;i++)t[i].classList.contains(e)?t[i].classList.add("show"):t[i].classList.remove("show")}),$(".quantity button").click(function(){var e,t=$(this).parent().find("input"),s=$(this),o=parseFloat(t.val());e=s.hasClass("plus")?o<999?o+1:o:o>1?o-1:o,t.val(e).change()}),$(".quantity.basket button, .quantity.basket .remove-item").click(function(e){var t=$(this),s=0,o=0,i=t.siblings(".count").find("input").val(),l=t.parents("td").siblings("td.price");if($(e.target).closest(".quantity.basket .remove-item").length){e.stopPropagation();var n=$(".tooltip_count span"),a=n.attr("data-count")-1;n.attr("data-count",a),t.parents("tr").remove(),a>0?n.text("В корзине еще "+a+" товаров"):n.text("")}$(l).text(l.data("price")*i+" ₽"),$(".basket_tooltip-list").find("td.price").each(function(){s+=parseInt($(this).html())}),$(".basket_tooltip .tooltip_price span").html(s+" ₽"),$(".basket_tooltip-list").find("input").each(function(e,t){o+=parseInt($(t).val())}),$(".order_item_count").html(o)}),$(".product-thumb-list .product-thumb-item").click(function(){var e=$(this);$(".product-thumb-item.current").removeClass("current"),e.addClass("current");var t=$(".product-photo-item"),s=e.find("img").data("number");t.removeClass("current"),$(".product-photo-item").each(function(e){s==e&&$(this).addClass("current")})}),v("#select-category"),v("#select-collection"),function(e){var t,s=[],o=$(e).children("option");$(e).hide(),$(o).each(function(){s.push($(this).html())}),$(e).after('<ul class="custom-select" data-selected-value="'+s[0]+'">'),t=$(e).siblings(".custom-select"),$(t).append('<li class="selected-option"><span>'+s[0]+"</span>"),$(t).after('<ul class="options">');for(var i=1;i<s.length;i++)$(t).next(".options").append('<li data-value="'+s[i]+'"><i  class="'+$(o[i]).prop("class")+'" ></i></li>');$(t).click(function(){$(this).toggleClass("open"),$(this).next(".options").toggleClass("open"),$(this).next(".options.open").find("li").each(function(e){e++,$(o[e]).prop("selected")&&($(o[e]).prop("selected",!0),$(this).addClass("focus"))})}),$(t).next(".options").find("li").click(function(){for(var e=$(this).attr("data-value"),t=1;t<o.length;t++)$(o[t]).text()===e&&($(o[t]).prop("selected")?($(o[t]).prop("selected",!1),$(this).removeClass("focus")):($(o[t]).prop("selected",!0),$(this).addClass("focus")))})}("#select-color"),g("#select-price")}),$(function(){$(".regular").slick({dots:!0,infinite:!0,slidesToShow:4,slidesToScroll:3}),$(".catalog-list.carusel").slick({infinite:!0,slidesToShow:5,variableWidth:!1,centerMode:!1,cssEase:"linear",arrows:!1,responsive:[{breakpoint:992,settings:{slidesToShow:3,variableWidth:!0}},{breakpoint:768,settings:{slidesToShow:3,variableWidth:!0}},{breakpoint:576,settings:{slidesToShow:1,variableWidth:!0}}]}),$(".slider-list").slick({infinite:!0,slidesToShow:1,slidesToScroll:1,arrows:!1,responsive:[{breakpoint:992,settings:{arrows:!0}},{breakpoint:570,settings:{arrows:!1}}]}),$(".brand-list").slick({infinite:!1,slidesToShow:4,slidesToScroll:1,variableWidth:!0,arrows:!1,responsive:[{breakpoint:991,settings:{slidesToShow:3,slidesToScroll:1}},{breakpoint:570,settings:{slidesToShow:1,arrows:!1}}]}),$(".service-carusel-list").slick({infinite:!1,slidesToShow:5,slidesToScroll:1,variableWidth:!0,responsive:[{breakpoint:991,settings:{slidesToShow:3,slidesToScroll:1}},{breakpoint:570,settings:{slidesToShow:1,arrows:!1}}]}),$(".number1").slick({fade:!0}),$(".number2").slick({}),$(".number3").slick({}),$(".comments-info-list").slick({slidesToShow:1,slidesToScroll:1,arrows:!1,draggable:!1,fade:!0,asNavFor:".comments-photo-list"}),$(".comments-photo-list").slick({slidesToShow:3,slidesToScroll:1,focusOnSelect:!0,asNavFor:".comments-info-list"}),$(".partner-comments-info-list").slick({slidesToShow:1,slidesToScroll:1,arrows:!1,draggable:!1,fade:!0,asNavFor:".partner-comments-photo-list"}),$(".partner-comments-photo-list").slick({slidesToShow:3,slidesToScroll:1,asNavFor:".partner-comments-info-list"}),$(".stuff-carusel-list").slick({infinite:!1,slidesToShow:3,slidesToScroll:1,variableWidth:!0,responsive:[{breakpoint:991,settings:{slidesToShow:3,slidesToScroll:1}},{breakpoint:570,settings:{slidesToShow:1,arrows:!1}}]}),$(".students-work-list").slick({infinite:!1,slidesToShow:4,slidesToScroll:1,variableWidth:!0,responsive:[{breakpoint:991,settings:{slidesToShow:3,slidesToScroll:1}},{breakpoint:570,settings:{slidesToShow:1,arrows:!1}}]}),$(".shop-category-list").slick({infinite:!1,slidesToShow:6,slidesToScroll:1,responsive:[{breakpoint:991,settings:{slidesToShow:3,slidesToScroll:1}},{breakpoint:570,settings:{slidesToShow:1,arrows:!1}}]})});